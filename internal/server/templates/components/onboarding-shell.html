{{define "component.onboarding-shell"}}
<div class="mx-auto w-full max-w-5xl px-4 py-10 md:px-6">
  <div class="mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between">
    <div>
      <p class="text-sm font-semibold uppercase tracking-wide text-[color:var(--cj-accent)]">{{.Eyebrow}}</p>
      <h1 class="text-3xl font-semibold text-foreground">{{.Title}}</h1>
      <p class="text-muted-foreground">{{.Subtitle}}</p>
    </div>
    {{if .StepLabel}}
    <div class="w-full max-w-[260px] flex flex-col gap-6 rounded-xl border py-6 shadow-sm">
      <div class="space-y-2 px-6 pb-2">
        <p class="text-sm font-semibold text-foreground">{{.StepLabel}}</p>
        {{if .ProgressValue}}
        <div class="mt-3 h-2 w-full overflow-hidden rounded-full bg-muted">
          <div class="h-full bg-[color:var(--cj-primary)] transition-all" style="width: {{.ProgressValue}}%"></div>
        </div>
        {{end}}
        <p class="mt-2 text-xs text-muted-foreground">Step {{.StepIndex}} of {{.TotalSteps}}</p>
      </div>
    </div>
    {{end}}
  </div>

  <div class="flex flex-col gap-6 rounded-xl border py-6 shadow-sm">
    <div id="onboarding-content" class="space-y-6 px-6">
      {{.Content}}
    </div>
  </div>

  {{if or .BackHref .NextHref}}
  <div class="mt-6 flex items-center justify-between">
    {{if .BackHref}}
    <a href="{{.BackHref}}"
      class="inline-flex h-9 items-center justify-center gap-2 whitespace-nowrap rounded-md px-4 py-2 text-sm font-medium transition-all hover:bg-accent hover:text-accent-foreground">
      Back
    </a>
    {{else}}
      <div></div>
      {{end}}
      {{if .NextHref}}
      <a href="{{.NextHref}}" {{if .SubmitButton}} hx-post="{{.NextHref}}" hx-target="#onboarding-content" hx-swap="innerHTML" hx-include="closest form" {{end}}
        class="inline-flex h-9 items-center justify-center gap-2 whitespace-nowrap rounded-md bg-[color:var(--cj-primary)] px-4 py-2 text-sm font-medium text-white transition-all hover:bg-[color:var(--cj-primary)]/90">
        {{if .NextLabel}}{{.NextLabel}}
        {{else}}Continue{{end}}
      </a>
      {{end}}
  </div>
  {{end}}
</div>
{{end}}