{{define "page.login"}}
{{template "header" .}}

<div class="mx-auto w-full max-w-md px-4 py-16 md:px-6">
  <div class="space-y-2 text-center">
    <h1 class="text-3xl font-semibold text-foreground">Welcome back</h1>
    <p class="text-muted-foreground">Log in to your ChristJesus.app account</p>
  </div>

  {{if .Message}}
  <div class="mt-6 rounded-md border border-[color:var(--cj-accent)]/30 bg-[color:var(--cj-accent)]/10 px-4 py-3 text-sm text-foreground">
    {{.Message}}
  </div>
  {{end}}

  {{if .Error}}
  <div class="mt-6 rounded-md border border-[color:var(--cj-error)] border-l-4 bg-muted px-4 py-3 text-sm font-semibold text-[color:var(--cj-error)]" role="alert" aria-live="polite">
    {{.Error}}
  </div>
  {{end}}

  <form method="POST" action="/login" class="mt-8 space-y-6">
    <!-- Email Field -->
    <div class="space-y-2">
      <label for="email" class="text-sm font-medium text-foreground">
        Email
      </label>
      <input type="email" id="email" name="email" required value="{{.Email}}"
        class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
        placeholder="Enter your email" />
    </div>

    <!-- Password Field -->
    <div class="space-y-2">
      <label for="password" class="text-sm font-medium text-foreground">
        Password
      </label>
      <input type="password" id="password" name="password" required
        class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
        placeholder="Enter your password" />
    </div>

    <!-- Submit Button -->
    <button type="submit"
      class="inline-flex h-10 w-full items-center justify-center gap-2 whitespace-nowrap rounded-md bg-[color:var(--cj-primary)] px-4 py-2 text-sm font-medium text-white transition-all hover:bg-[color:var(--cj-primary)]/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2">
      Log In
    </button>
  </form>

  <p class="mt-6 text-center text-sm text-muted-foreground">
    Don't have an account?
    <a href="/register" class="font-medium text-[color:var(--cj-accent)] hover:underline">Sign up</a>
  </p>
</div>

{{template "footer" .}}
{{end}}